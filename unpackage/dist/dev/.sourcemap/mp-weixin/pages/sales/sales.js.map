{"version":3,"sources":["webpack:///C:/Users/Dell/Desktop/新建文件夹/dyd-app-supply/main.js","webpack:///C:/Users/Dell/Desktop/新建文件夹/dyd-app-supply/pages/sales/sales.vue?5f20","webpack:///C:/Users/Dell/Desktop/新建文件夹/dyd-app-supply/pages/sales/sales.vue?59fd","webpack:///C:/Users/Dell/Desktop/新建文件夹/dyd-app-supply/pages/sales/sales.vue?f114","webpack:///C:/Users/Dell/Desktop/新建文件夹/dyd-app-supply/pages/sales/sales.vue?cb64","webpack:///C:/Users/Dell/Desktop/新建文件夹/dyd-app-supply/pages/sales/sales.vue"],"names":["createPage","Page","filters","statusNameFilter","status","nameMap","statusClassFilter","buyerOrgNameFilter","name","data","listQuery","pageNo","pageSize","sorts","list","loadOver","onLoad","e","getList","onShow","updateOrder","uni","getStorageSync","forEach","item","order","find","o","purchaseOrderId","statusClassName","$options","removeStorageSync","onPullDownRefresh","setTimeout","stopPullDownRefresh","onReachBottom","console","log","methods","append","fun","then","res","orderList","length","setData","catch","err","i","deliverDate","deliveryTime","push","handleTap","orderId","navigateTo","url"],"mappings":"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","file":"pages/sales/sales.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/sales/sales.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./sales.vue?vue&type=template&id=35723227&\"\nimport script from \"./sales.vue?vue&type=script&lang=js&\"\nexport * from \"./sales.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('35723227', component.options)\n    } else {\n      api.reload('35723227', component.options)\n    }\n    module.hot.accept(\"./sales.vue?vue&type=template&id=35723227&\", function () {\n      api.rerender('35723227', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/Dell/Desktop/新建文件夹/dyd-app-supply/pages/sales/sales.vue\"\nexport default component.exports","export * from \"-!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-hbuilderx\\\\packages\\\\webpack-uni-nvue-loader\\\\lib\\\\templateLoader.js??vue-loader-options!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sales.vue?vue&type=template&id=35723227&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.list, function(item, index) {\n    var f0 = _vm._f(\"parseTime\")(item.deliverDate, \"{m}-{d}\")\n\n    var l0 = _vm.__map(item.list, function(data, __i0__) {\n      var f1 = _vm._f(\"parseTime\")(data.deliveryTime, \"{a}\")\n\n      var f2 = _vm._f(\"parseTime\")(data.deliveryTime, \"{h}:{i}\")\n\n      var f3 = _vm._f(\"statusNameFilter\")(data.status)\n\n      var f4 = _vm._f(\"buyerOrgNameFilter\")(data.buyerOrgName)\n\n      return {\n        $orig: _vm.__get_orig(data),\n        f1: f1,\n        f2: f2,\n        f3: f3,\n        f4: f4\n      }\n    })\n\n    return {\n      $orig: _vm.__get_orig(item),\n      f0: f0,\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sales.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sales.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport { fetchSalesOrder } from '@/common/api/order'\n\timport { parseTime } from '@/common/utils/tools.js'\n\texport default {\n\t\tfilters: {\n\t\t\tstatusNameFilter(status) {\n\t\t\t  const nameMap = {\n\t\t\t\t0: '已下单',\n\t\t\t\t5: '已接单',\n\t\t\t\t10: '配送中',\n\t\t\t\t20: '已收货',\n\t\t\t\t30: '售后',\n\t\t\t\t40: '已完成'\n\t\t\t  }\n\t\t\t  return nameMap[status] || '采购中'\n\t\t\t},\n\t\t\tstatusClassFilter(status) {\n\t\t\t  const nameMap = {\n\t\t\t\t0: 'bg-orange',\n\t\t\t\t5: 'bg-green',\n\t\t\t\t10: 'bg-green',\n\t\t\t\t20: 'bg-grey',\n\t\t\t\t30: 'bg-grey',\n\t\t\t\t40: 'bg-grey'\n\t\t\t  }\n\t\t\t  return nameMap[status] || 'bg-grey'\n\t\t\t},\n\t\t\tbuyerOrgNameFilter(name) {\n\t\t\t\treturn name || '无'\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tlistQuery: {\n\t\t\t\t\tpageNo: 1,\n\t\t\t\t\tpageSize: 5,\n\t\t\t\t\tsorts: '-deliveryTime'\n\t\t\t\t},\n\t\t\t\tlist: [],\n\t\t\t\tloadOver: false\n\t\t\t}\n\t\t},\n\t\tonLoad:function(e){\n\t\t\tthis.getList(false)\n\t\t},\n        onShow:function(e) {\n            const updateOrder = uni.getStorageSync('up_sales_order')\n            if(updateOrder) {\n                this.list.forEach(item => {\n                    if(item.list) {\n                        const order = item.list.find(function(o){\n                            return o.purchaseOrderId === updateOrder.purchaseOrderId\n                        })\n                        if(order) {\n                            order.status = updateOrder.status\n                            order.statusClassName = this.$options.filters['statusClassFilter'](order.status)\n                        }\n                    }\n                })\n                uni.removeStorageSync('up_sales_order')\n            }\n        },\n\t\tonPullDownRefresh:function(){\n\t\t\tthis.listQuery.pageNo = 1\n\t\t\tthis.loadOver = false\n\t\t\tthis.getList(false, () => setTimeout(function () {\n\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t}, 1000))\n\t\t},\n\t\tonReachBottom:function(){\n\t\t\tconsole.log('no:' + this.listQuery.pageNo)\n\t\t\tif(!this.loadOver) {\n\t\t\t\tthis.listQuery.pageNo = this.listQuery.pageNo + 1\n\t\t\t\tthis.getList(true)\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tgetList(append, fun) {\n\t\t\t\tfetchSalesOrder(this.listQuery).then((res)=>{\n\t\t\t\t\t// console.log(res)\n\t\t\t\t\tconst orderList = [...res.data.list || []]\n\t\t\t\t\tif(orderList.length <= 0) {\n\t\t\t\t\t\tthis.loadOver = true\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.loadOver = false\n\t\t\t\t\t}\n\t\t\t\t\tthis.setData(orderList, append)\n\t\t\t\t\tif(fun) {\n\t\t\t\t\t\tfun()\n\t\t\t\t\t}\n\t\t\t\t}).catch((err)=>{\n\t\t\t\t\tconsole.log(\"error!\",  err)\n\t\t\t\t})\n\t\t\t},\n\t\t\tsetData(orderList, append) {\n\t\t\t\tif(!append) {\n\t\t\t\t\tthis.list = []\n\t\t\t\t}\n\t\t\t\torderList.forEach((data, i)=>{\n\t\t\t\t\t// console.log(data, i)\n\t\t\t\t\tconst deliverDate = parseTime(data.deliveryTime, '{y}-{m}-{d}')\n\t\t\t\t\tconst statusClassName = this.$options.filters['statusClassFilter'](data.status)\n\t\t\t\t\tdata.statusClassName = statusClassName\n\t\t\t\t\tlet find = false\n\t\t\t\t\tfor(let i=0; i < this.list.length;i++) {\n\t\t\t\t\t\tif(this.list[i].deliverDate === deliverDate) {\n\t\t\t\t\t\t\tthis.list[i].list.push(data)\n\t\t\t\t\t\t\tfind = true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!find) {\n\t\t\t\t\t\tthis.list.push({ deliverDate: deliverDate, list: [ data ] })\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\thandleTap(orderId) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/salesitem/salesitem?orderId=' + orderId\n\t\t\t\t})\n\t\t\t} \n\t\t}\n\t}\n"],"sourceRoot":""}