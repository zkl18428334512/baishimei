{"version":3,"sources":["webpack:///C:/Users/Dell/Desktop/新建文件夹/dyd-app-supply/main.js","webpack:///C:/Users/Dell/Desktop/新建文件夹/dyd-app-supply/pages/deliver/deliver.vue?f902","webpack:///C:/Users/Dell/Desktop/新建文件夹/dyd-app-supply/pages/deliver/deliver.vue?cb49","webpack:///C:/Users/Dell/Desktop/新建文件夹/dyd-app-supply/pages/deliver/deliver.vue?a2d7","webpack:///C:/Users/Dell/Desktop/新建文件夹/dyd-app-supply/pages/deliver/deliver.vue?537c","webpack:///C:/Users/Dell/Desktop/新建文件夹/dyd-app-supply/pages/deliver/deliver.vue"],"names":["createPage","Page","filters","statusNameFilter","status","nameMap","statusClassFilter","data","listQuery","pageNo","pageSize","list","loadOver","onLoad","e","getList","onShow","updateDeliveryOrder","uni","getStorageSync","forEach","item","deliveryOrder","find","o","deliveryOrderId","removeStorageSync","onPullDownRefresh","console","log","setTimeout","stopPullDownRefresh","onReachBottom","methods","append","fun","then","res","orderList","length","setData","catch","err","i","deliverDate","deliveryTime","push","handleTap","orderId","navigateTo","url"],"mappings":"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","file":"pages/deliver/deliver.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/deliver/deliver.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./deliver.vue?vue&type=template&id=416edbce&\"\nimport script from \"./deliver.vue?vue&type=script&lang=js&\"\nexport * from \"./deliver.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('416edbce', component.options)\n    } else {\n      api.reload('416edbce', component.options)\n    }\n    module.hot.accept(\"./deliver.vue?vue&type=template&id=416edbce&\", function () {\n      api.rerender('416edbce', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/Dell/Desktop/新建文件夹/dyd-app-supply/pages/deliver/deliver.vue\"\nexport default component.exports","export * from \"-!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-hbuilderx\\\\packages\\\\webpack-uni-nvue-loader\\\\lib\\\\templateLoader.js??vue-loader-options!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./deliver.vue?vue&type=template&id=416edbce&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.list, function(item, index) {\n    var f0 = _vm._f(\"parseTime\")(item.deliverDate, \"{m}-{d}\")\n\n    var l0 = _vm.__map(item.list, function(data, __i0__) {\n      var f1 = _vm._f(\"parseTime\")(data.deliveryTime, \"{a}\")\n\n      var f2 = _vm._f(\"parseTime\")(data.deliveryTime, \"{h}:{i}\")\n\n      var f3 = _vm._f(\"statusNameFilter\")(data.status)\n\n      return {\n        $orig: _vm.__get_orig(data),\n        f1: f1,\n        f2: f2,\n        f3: f3\n      }\n    })\n\n    return {\n      $orig: _vm.__get_orig(item),\n      f0: f0,\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./deliver.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\工作\\\\东裕达\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./deliver.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport { fetchPendingDelivery } from '@/common/api/deliver'\n\timport { parseTime } from '@/common/utils/tools.js'\n\texport default {\n\t\tfilters: {\n\t\t\tstatusNameFilter(status) {\n\t\t\t  const nameMap = {\n\t\t\t\t0: '未装车',\n\t\t\t\t15: '配送中',\n\t\t\t\t20: '已完成'\n\t\t\t  }\n\t\t\t  return nameMap[status] || '未装车'\n\t\t\t},\n\t\t\tstatusClassFilter(status) {\n\t\t\t  const nameMap = {\n\t\t\t\t0: 'bg-orange',\n\t\t\t\t15: 'bg-green',\n\t\t\t\t20: 'bg-grey'\n\t\t\t  }\n\t\t\t  return nameMap[status] || 'bg-orange'\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tlistQuery: {\n\t\t\t\t\tpageNo: 1,\n\t\t\t\t\tpageSize: 5\n\t\t\t\t},\n\t\t\t\tlist: [],\n\t\t\t\tloadOver: false\n\t\t\t}\n\t\t},\n\t\tonLoad:function(e){\n\t\t\tthis.getList(false)\n\t\t},\n        onShow:function(e) {\n            const updateDeliveryOrder = uni.getStorageSync('up_delivery_order')\n            if(updateDeliveryOrder) {\n                this.list.forEach(item => {\n                    if(item.list) {\n                        const deliveryOrder = item.list.find(function(o){\n                            return o.deliveryOrderId === updateDeliveryOrder.deliveryOrderId\n                        })\n                        if(deliveryOrder) {\n                            deliveryOrder.status = updateDeliveryOrder.status\n                        }\n                    }\n                })\n                uni.removeStorageSync('up_delivery_order')\n            }\n        },\n\t\tonPullDownRefresh:function(){\n\t\t\tthis.listQuery.pageNo = 1\n\t\t\tthis.loadOver = false\n            console.log('下拉加载成功')\n\t\t\tthis.getList(false, () => setTimeout(function () {\n\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t}, 1000))\n\t\t},\n\t\tonReachBottom:function(){\n\t\t\tconsole.log('no:' + this.listQuery.pageNo)\n\t\t\tif(!this.loadOver) {\n\t\t\t\tthis.listQuery.pageNo = this.listQuery.pageNo + 1\n\t\t\t\tthis.getList(true)\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tgetList(append, fun) {\n\t\t\t\tfetchPendingDelivery(this.listQuery).then((res)=>{\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tconst orderList = [...res.data.list || []]\n\t\t\t\t\tif(orderList.length <= 0) {\n\t\t\t\t\t\tthis.loadOver = true\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.loadOver = false\n\t\t\t\t\t}\n\t\t\t\t\tthis.setData(orderList, append)\n\t\t\t\t\tif(fun) {\n\t\t\t\t\t\tfun()\n\t\t\t\t\t}\n\t\t\t\t}).catch((err)=>{\n\t\t\t\t\tconsole.log(\"error!\",  err)\n\t\t\t\t})\n\t\t\t},\n\t\t\tsetData(orderList, append) {\n\t\t\t\tif(!append) {\n\t\t\t\t\tthis.list = []\n\t\t\t\t}\n\t\t\t\torderList.forEach((data, i)=>{\n\t\t\t\t\t// console.log(data, i)\n\t\t\t\t\tconst deliverDate = parseTime(data.deliveryTime, '{y}-{m}-{d}')\n\t\t\t\t\t// console.log(deliverDate)\n\t\t\t\t\tlet find = false\n\t\t\t\t\tfor(let i=0; i < this.list.length;i++) {\n\t\t\t\t\t\tif(this.list[i].deliverDate === deliverDate) {\n\t\t\t\t\t\t\tthis.list[i].list.push(data)\n\t\t\t\t\t\t\tfind = true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!find) {\n\t\t\t\t\t\tthis.list.push({ deliverDate: deliverDate, list: [ data ] })\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\thandleTap(orderId) {\n\t\t\t\t// console.log(orderId)\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/deliveritem/deliveritem?orderId=' + orderId\n\t\t\t\t})\n\t\t\t} \n\t\t}\n\t}\n"],"sourceRoot":""}