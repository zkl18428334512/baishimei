(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/deliver/deliver"],{"30f6":function(e,t,r){"use strict";(function(e){r("f263"),r("921b");i(r("66fd"));var t=i(r("702d"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("6e42")["createPage"])},4114:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=(e._self._c,e.__map(e.list,function(t,r){var i=e._f("parseTime")(t.deliverDate,"{m}-{d}"),n=e.__map(t.list,function(t,r){var i=e._f("parseTime")(t.deliveryTime,"{a}"),n=e._f("parseTime")(t.deliveryTime,"{h}:{i}"),a=e._f("statusNameFilter")(t.status);return{$orig:e.__get_orig(t),f1:i,f2:n,f3:a}});return{$orig:e.__get_orig(t),f0:i,l0:n}}));e.$mp.data=Object.assign({},{$root:{l1:r}})},n=[];r.d(t,"a",function(){return i}),r.d(t,"b",function(){return n})},6378:function(e,t,r){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("1ce9"),a=r("a627");function o(e){return u(e)||s(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}var f={filters:{statusNameFilter:function(e){var t={0:"未装车",15:"配送中",20:"完成"};return t[e]||"未装车"},statusClassFilter:function(e){var t={0:"bg-orange",15:"bg-green",20:"bg-grey"};return t[e]||"bg-orange"}},data:function(){return{listQuery:{pageNo:1,pageSize:5},list:[],loadOver:!1}},onLoad:function(e){this.getList(!1)},onShow:function(t){var r=e.getStorageSync("up_delivery_order");r&&(this.list.forEach(function(e){if(e.list){var t=e.list.find(function(e){return e.deliveryOrderId===r.deliveryOrderId});t&&(t.status=r.status)}}),e.removeStorageSync("up_delivery_order"))},onPullDownRefresh:function(){this.listQuery.pageNo=1,this.loadOver=!1,console.log(i("下拉加载成功"," at pages\\deliver\\deliver.vue:97")),this.getList(!1,function(){return setTimeout(function(){e.stopPullDownRefresh()},1e3)})},onReachBottom:function(){console.log(i("no:"+this.listQuery.pageNo," at pages\\deliver\\deliver.vue:103")),this.loadOver||(this.listQuery.pageNo=this.listQuery.pageNo+1,this.getList(!0))},methods:{getList:function(e,t){var r=this;(0,n.fetchPendingDelivery)(this.listQuery).then(function(n){console.log(i(n," at pages\\deliver\\deliver.vue:112"));var a=o(n.data.list||[]);a.length<=0?r.loadOver=!0:r.loadOver=!1,r.setData(a,e),t&&t()}).catch(function(e){console.log(i("error!",e," at pages\\deliver\\deliver.vue:125"))})},setData:function(e,t){var r=this;t||(this.list=[]),e.forEach(function(e,t){for(var i=(0,a.parseTime)(e.deliveryTime,"{y}-{m}-{d}"),n=!1,o=0;o<r.list.length;o++)r.list[o].deliverDate===i&&(r.list[o].list.push(e),n=!0);n||r.list.push({deliverDate:i,list:[e]})})},handleTap:function(t){e.navigateTo({url:"/pages/deliveritem/deliveritem?orderId="+t})}}};t.default=f}).call(this,r("6e42")["default"],r("0de9")["default"])},"702d":function(e,t,r){"use strict";r.r(t);var i=r("4114"),n=r("75a1");for(var a in n)"default"!==a&&function(e){r.d(t,e,function(){return n[e]})}(a);var o=r("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);t["default"]=l.exports},"75a1":function(e,t,r){"use strict";r.r(t);var i=r("6378"),n=r.n(i);for(var a in i)"default"!==a&&function(e){r.d(t,e,function(){return i[e]})}(a);t["default"]=n.a}},[["30f6","common/runtime","common/vendor"]]]);